<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>JS文字球状放大效果DEMO演示</title>

    <style type="text/css">
        body {
            cursor: crosshair;
            margin: 0;
            padding: 0;
            position: absolute;
            overflow: hidden;
            background: #000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
        }

        span {
            position: absolute;
            font-family: verdana;
            font-weight: bold;
        }

        .span1 {
            position: absolute;
            left: 50%;
            top: 50%;
        }
    </style>


</head>

<body>

    <span class="span1">
        <span id="doot">发哈数据库后开始看就开始对方卡慧卡按计划代发就看到好看 家还是地方见客户 阿贾克斯的回房间卡还是打款了发货了几号回家啊的负荷 安徽大师傅尽快好了阿萨德合法化 阿贾克斯的回复就看好加厚四大皆空家和水电费健康良好 尽快哈监考老师搭好了
            案件看来还是砥砺奋进 傲娇受得了肺结核 爱了坚实的法律哈尽快落实到了
        </span>
    </span>
    <script type="text/javascript">
        var str = document.getElementById("doot").innerText;
        extendText(str);

        function extendText(str) {
            T = str;
            // '按计划代发就看到好看 家还是地方见客户  阿贾克斯的回房间卡还是打款了发货了几号回家啊的负荷 安徽大师傅尽快好了阿萨德合法化  阿贾克斯的回复就看好加厚四大皆空家和水电费健康良好 尽快哈监考老师搭好了 案件看来还是砥砺奋进 傲娇受得了肺结核 爱了坚实的法律哈尽快落实到了';
            // "What is  real?How do you define real?   Ifyou're talkingabout what youcan feel  whatyou can  smellwhat  you  cantaste and  seethen   real issimply   electrical  signalsinterpreted byyour brain!";
            I = 0;
            o = new Array();
            xm = -1000;
            ym = -1000;
            ///////////////
            rad = 80;
            dim = 200;
            ///////////////
            W = 0;
            H = 0;
            NX = 14;
            NY = 14;
            var nx;
            var ny;

            document.onmousemove = function (e) {
                if (window.event) e = window.event;
                xm = (e.x || e.clientX) - (nx * .5) + dim * .5;
                ym = (e.y || e.clientY) - (ny * .5) + dim * .5;
            }

            function resize() {
                nx = document.body.offsetWidth;
                ny = document.body.offsetHeight;
            }
            onresize = resize;

            function CObj(N, i, j, c) {
                this.obj = document.createElement("span");
                this.obj.innerHTML = c;
                DOOT.appendChild(this.obj);
                this.N = N;
                this.To = 16;
                this.x0 = i * 2 * W;
                this.y0 = j * 2 * H;
                this.anim = true;

                this.mainloop = function () {
                    with(this) {
                        dx = xm - x0;
                        dy = ym - y0;
                        dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < rad) {
                            anim = true;
                            M = Math.cos(.5 * Math.PI * Math.abs(dist / rad));
                            c = Math.round(84 + M * 171);
                            with(obj.style) {
                                left = x0 - dx * M;
                                top = y0 - dy * M;
                                zIndex = Math.round(100 + M);
                                fontSize = 8 + M * W * 2;
                                color = "RGB(" + c + "," + c + "," + c + ")";
                            }
                        } else {
                            if (anim) {
                                with(obj.style) {
                                    left = x0;
                                    top = y0;
                                    zIndex = 0;
                                    fontSize = 8;
                                    color = "RGB(88,88,88)";
                                }
                                anim = false;
                            }
                        }
                    }
                }
            }

            function run() {
                for (i in o) o[i].mainloop();
                setTimeout(run, 16);
            }

            onload = function () {
                DOOT = document.getElementById("doot");
                with(DOOT.style) {
                    left = -dim / 2;
                    top = -dim / 2;
                    width = dim;
                    height = dim;
                }
                resize();
                W = (dim / NX) / 2;
                H = (dim / NY) / 2;
                K = 0;
                for (var j = 0; j < NY; j++) {
                    for (var i = 0; i < NX; i++) {
                        c = T.charAt((I++) % T.length).toUpperCase();
                        if (c == " ") c = "·";
                        o[K] = new CObj(K++, i, j, c);
                    }
                }
                run();
            }
        }
    </script>
</body>

</html>